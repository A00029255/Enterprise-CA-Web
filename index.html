<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>French Communes - Population Density</title>

    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>

  <body class="container py-4">
    <header class="mb-4">
      <h1 class="display-5">Population Density of Selected French Communes</h1>
      <p class="text-muted">Density = Population / Area (people per km²)</p>
    </header>

    <section>
      <figure style="height: 400px">
        <canvas id="chart"></canvas>
      </figure>
    </section>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <script>
      const cities = [
        { name: "Aix-en-Provence", population: 134222, area: 187.53 },
        { name: "Ajaccio", population: 52880, area: 83.32 },
        { name: "Albi", population: 49475, area: 44.26 },
        { name: "Alès", population: 39346, area: 23.32 },
        { name: "Alfortville", population: 44148, area: 3.67 },
        { name: "Albertville", population: 19112, area: 17.54 },
      ];

      const labels = cities.map((city) => city.name);
      const densities = cities.map(
        (city) => Math.round((city.population / city.area) * 100) / 100,
      );

      const ctx = document.getElementById("chart");

      new Chart(ctx, {
        type: "bar",
        data: {
          labels: labels,
          datasets: [
            {
              label: "Population Density (people per km²)",
              data: densities,
              backgroundColor: "rgba(54, 162, 235, 0.7)",
              borderColor: "rgba(54, 162, 235, 1)",
              borderWidth: 1,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            title: {
              display: true,
              text: "Population Density by City",
            },
          },
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: "People per km²",
              },
            },
            x: {
              title: {
                display: true,
                text: "City",
              },
            },
          },
        },
      });
    </script>
  </body>
</html>
